import"../chunks/CWj6FrbW.js";import{ak as F,al as L,a as K,a2 as O,ar as Q,e as U,as as W,n as z,M as N,N as E,R as n,S as c,Q as _,O as S,L as b,P,at as I,au as k,av as M,T as s,aw as m}from"../chunks/BDV4Oqqv.js";import{s as p,d as G}from"../chunks/K8avs-oi.js";import{i as B}from"../chunks/DnRIBi2z.js";import{a as H,s as J,e as X,r as Y,i as Z}from"../chunks/DVEcl83S.js";function $(e){var a=K,t=O;F(null),L(null);try{return e()}finally{F(a),L(t)}}function ee(e,a,t,i=t){e.addEventListener(a,()=>$(t));const r=e.__on_r;r?e.__on_r=()=>{r(),i(!0)}:e.__on_r=()=>i(!0),H()}function ae(e,a,t=a){var i=Q();ee(e,"input",r=>{var o=r?e.defaultValue:e.value;if(o=q(e)?A(o):o,t(o),i&&o!==(o=a())){var f=e.selectionStart,u=e.selectionEnd;e.value=o??"",u!==null&&(e.selectionStart=f,e.selectionEnd=Math.min(u,e.value.length))}}),(z&&e.defaultValue!==e.value||U(a)==null&&e.value)&&t(q(e)?A(e.value):e.value),W(()=>{var r=a();q(e)&&r===A(e.value)||e.type==="date"&&!r&&!e.value||r!==e.value&&(e.value=r??"")})}function q(e){var a=e.type;return a==="number"||a==="range"}function A(e){return e===""?null:+e}var te=E('<a class="w-full flex flex-col rounded-lg border-2 border-gray-200 p-4 self-start bg-white hover:shadow-lg duration-200 h-full hover:scale-105 relative"><div class="bg-gray-200 rounded-b-sm absolute right-4 top-0 px-1 py-0.5 text-[#00ABC1] font-bold text-sm"> </div> <div class="flex flex-col gap-y-2 h-full"><div class="flex flex-col gap-y-0.5"><p class="text-xs text-[#00ABC1] font-medium"> </p> <h3 class="truncate text-[#E66100]"> </h3></div> <p class="text-sm text-gray-500 line-clamp-4"><!></p></div></a>');function re(e,a){N(a,!0);var t=te(),i=n(t),r=n(i,!0);c(i);var o=_(i,2),f=n(o),u=n(f),w=n(u,!0);c(u);var h=_(u,2),y=n(h,!0);c(h),c(f);var x=_(f,2),C=n(x);{var T=d=>{var g=I("No Description");b(d,g)},j=d=>{var g=I();S(()=>p(g,a.description)),b(d,g)};B(C,d=>{a.description==null||a.description.length==0?d(T):d(j,!1)})}c(x),c(o),c(t),S(d=>{J(t,"href",`/team/${a.id??""}`),p(r,d),p(w,a.department),p(y,a.name)},[()=>a.similarityScore.toFixed(2)]),b(e,t),P()}function le(e,a){e.key==="Enter"&&a()}var se=E('<div class="text-red-500 text-center"> </div>'),oe=E('<div class="col-span-full text-center text-gray-500">Search for teams</div>'),ie=E('<section class="w-full min-h-[100vh] flex flex-col items-center py-12 px-[8%] gap-8 bg-gray-50"><div class="flex gap-y-6 flex-col w-full"><h1 class="text-center flex justify-center"><span class="text-[#E66100]">Find</span> <span class="text-[#00ABC1]">Works</span></h1> <div class="flex items-center gap-x-3 h-full"><input placeholder="Interests, Tools, Languages, Teams, Projects" class="w-full border-2 rounded-lg focus:ring-4 focus:ring-blue-400 border-gray-200 px-4 py-2 duration-200 text-base bg-white" aria-label="Search bar"/> <button class="px-6 bg-blue-500 text-white rounded-lg font-semibold shadow hover:bg-blue-600 duration-200 self-center h-full py-2.5 cursor-pointer"> </button></div> <!></div> <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 w-full overflow-y-auto p-2"><!> <!></div></section>');function fe(e,a){N(a,!0);let t=k(M(a.data.query)),i=k(M(a.data.teams)),r=k(!1),o=k("");async function f(){if(s(t).trim()){m(r,!0),m(o,"");try{const l=await fetch(`http://localhost:8000/search?query=${encodeURIComponent(s(t))}&k=20`);if(!l.ok)throw new Error("Failed to fetch results");m(i,await l.json(),!0),console.log(s(i))}catch(l){m(o,l.message,!0),m(i,[],!0)}finally{m(r,!1)}}}var u=ie(),w=n(u),h=_(n(w),2),y=n(h);Y(y),y.__keydown=[le,f];var x=_(y,2);x.__click=f;var C=n(x,!0);c(x),c(h);var T=_(h,2);{var j=l=>{var v=se(),D=n(v,!0);c(v),S(()=>p(D,s(o))),b(l,v)};B(T,l=>{s(o)&&l(j)})}c(w);var d=_(w,2),g=n(d);X(g,17,()=>s(i),Z,(l,v)=>{re(l,{get name(){return s(v).payload.name},get description(){return s(v).payload.info.description},get department(){return s(v).payload.info.department},get similarityScore(){return s(v).score},get id(){return s(v).payload.id}})});var R=_(g,2);{var V=l=>{var v=oe();b(l,v)};B(R,l=>{!s(r)&&s(i).length===0&&l(V)})}c(d),c(u),S(()=>{x.disabled=s(r),p(C,s(r)?"Searching...":"Search")}),ae(y,()=>s(t),l=>m(t,l)),b(e,u),P()}G(["keydown","click"]);export{fe as component};
